name: Release Published

on:
  release:
    types: [published]

jobs:
  publish:
    uses: hatlabs/shared-workflows/.github/workflows/publish-stable.yml@main
    with:
      apt-distro: trixie
      apt-component: main
      # Support both 3-part (1.0.7) and 4-part (1.0.7.2) versions
      version-pattern: '^v([0-9]+\.[0-9]+\.[0-9]+(?:\.[0-9]+)?)\+([0-9]+)$'
    secrets:
      APT_REPO_PAT: ${{ secrets.APT_REPO_PAT }}
